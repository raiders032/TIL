# 1 좋은 단위 테스트

* 좋은 단위 테스트의 4대 요소에는 다음 네 가지 특성이 있다
  * 회귀 방지
  * 리팩터링 내성
  * 빠른 피드백
  * 유지 보수성



## 1.1 회귀 방지

* 회귀는 소프트웨어 버그를 의미한다
* 코드를 수정한 후 기능이 의도한 대로 작동하지 않는 경우다
* 회귀 방지 지표를 극대화하려면 테스트가 가능한 많은 코드를 실행하는 것을 목표로 해야 한다



## 1.2 리팩터링 내성

* 리팩터링 내성은 테스트를 실패로 바꾸지 않고 기본 애플리케이션 코드를 리팩터링할 수 있는지에 대한 척도다
* 리팩터링 후 기능은 예전과 같이 완벽하게 작동하는데 테스트는 실패할 때 리팩터링 내성이 없다고 한다
* 이러한 상황을 거짓 양성이라고 한다
  * 거짓 양성은 허위 경보이다
  * 실제로 기능이 의도한 대로 작동하지만 테스는 실패를 나타낸다



**거짓 양성 좋지 않은 영향**

* 테스트가 타당한 이유 없이 실패하면, 코드 문제에 대응하는 능력과 의지가 희석된다
* 이내 타당한 실패도 무시하기 시작해 기능이 고장 나도 운영 환경에 들어가게 된다
* 거짓 양성이 빈번하면 테스트 스위트에 대한 신뢰가 떨어지기 시작하며 더 이상 안전망으로 인식하지 않는다
* 이렇게 되면 리팩터링이 줄어든다
  * 회귀를 피할려고 코드 변경을 최소화하기 때문





> **리팩터링**
>
> 리팩터링은 식별할수 있는 동작을 수정하지 않고 기존 코드를 변경하는 것을 의미한다. 그 의도는 코드의 비기능적 특징을 개선하는 것으로 가독성을 높이고 복잡도를 낮추는 것이다. 몇 가지 예를 들자면, 메서드 이름을 바꾸는 것이나 코드 조각을 새로운 클래스로 추출하는 것을 생각해 볼 수 있다



