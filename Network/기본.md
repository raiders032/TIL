#### TCP/IP 4 계층

![img](..\..\md\images\213F623C566BAE253B)

![img](..\images\995EFF355B74179035)



##### 1 네트워크 액세스 계층

* Network Access Layer or Network Interface Laye
* OSI 7계층의 물리 계층과 데이터 링크 계층에 해당한다.
* 물리적인 주소로 MAC을 사용한다.
* LAN, 패킷망, 등에 사용된다.
* 프로토콜 : Ethernet, Token Ring, PPP

###### Ethernet



##### 2 인터넷 계층

* Internet Layer
* OSI 7계층의 3계층  네트워크 계층에 해당한다. 
* 통신 노드 간의 IP패킷을 전송하는 기능과 라우팅 기능을 담당한다.
* 프로토콜 – IP, ARP, RARP, ICMP

###### ARP

* LAN 환경에서는 MAC 주소를 기반으로 통신하기 때문에 ARP는 IP 주소를 기반으로 MAC 주소를 알아오는 역할을 한다

###### IPv4

* Pv4는 패킷 교환 네트워크상에서 데이터를 교환하기 위한 프로토콜이다.
* 데이터가 정확하게 전달되는 것을 보장하지 않는다.
* 중복된 패킷을 전달하거나 패킷의 순서를 잘못 전달할 가능성이 있다.
* 데이터의 정확성과 순차적인 전달을 상위 프로토콜인 TCP에서 보장한다.



###### ICMP

* TCP/IP에서 IP 패킷을 처리할 때 발생되는 문제를 알리거나, 진단 등과 같이 IP 계층에서 필요한 기타 기능들을 수행하기위해 사용되는 프로토콜



##### 3 전송 계층

* Transport Layer
* OSI 7계층의 4계층 전송 계층에 해당한다.
* 통신 노드 간의 연결을 제어하고, 신뢰성 있는 데이터 전송을 담당한다.
*  정확한 패킷의 전송을 보장하는 TCP와 정확한 전송을 보장하지 않는 UDP 프로토 콜을 이용한다.
* 시스템의 논리주소와 포트를 가지고 있어서 각 상위 계층의 프로세스를 연결해서 통신한다.
* 프로토콜 – TCP, UDP

###### TCP

* 1:1 연결 지향, 신뢰할 수 있는 통신 서비스 제공.
* TCP 연결 확립과 보내진 패킷의 확인, 순서화, 전달 중 손상된 패킷을 복구하는 책임을 짐.

###### UDP

* 1:1, 1:N의 비연결 지향, 신뢰할 수 없는 통신서비스 제공
* 주로 전달해야할 데이터의 크기(하나의 패킷으로 보낼 수 있는 데이터와 같은 경우) 가 작을 때 사용.
*  TCP 연결 확립에 의한 부하를 피하려고 할 때 사용.
*  상위 프로토콜이 신뢰할 수 있는 전달을 책임지는 경우에 사용.



##### 4계층 응용 계층

* Application Layer
* OSI 7계층의 세션 계층, 표현 계층, 응용 계층에 해당한다.
* TCP/UDP 기반의 응용 프로그램을 구현할 때 사용한다.
* 프로토콜 – FTP,  HTTP, SSH, Telnet, DNS, SMTP



#### OSI 7계층



#### NAT

* Network Address Translation, 
* 내부 망에서는 사설 IP 주소를 사용하여 통신을 하고, 외부망과의 통신시에는 NAT를 거쳐 공인 IP 주소로 자동 변환한다.
* NAT를 이용하는 이유는 대개 사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위함이다.
* NAT는 IPv4의 주소 부족 문제를 해결하기 위한 방법으로서 고려되었다.
* 공개된 인터넷과 사설망 사이에 방화벽을 설치하여 외부 공격으로부터 사용자의 통신망을 보호하는 기본적인 수단으로 활용할 수 있다.