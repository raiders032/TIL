# 1 S3

- Amazon Simple Storage Service(Amazon S3)는 인터넷 스토리지 서비스로, 안전하고 내구성이 높으며 전 세계 어디서나 데이터를 저장하고 검색할 수 있게 해줍니다.
- 사용하기 쉬운 관리 기능을 통해 어느 규모에서나 데이터를 저장하고 제어할 수 있으며, 애플리케이션에 필요한 양만큼만 비용을 지불하면 됩니다.
- Amazon S3는 높은 확장성, 데이터 가용성, 보안 및 성능을 제공하므로, 기업과 개발자는 웹사이트, 모바일 애플리케이션, 백업 및 복원, 아카이브, 엔터프라이즈 애플리케이션, IoT 기기, 빅 데이터 분석 등 다양한 사용 사례에서 S3를 사용할 수 있습니다.

<br>

# 2 Performance

## 2.1 multipart upload

- [레퍼런스](https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html)
- Multipart 업로드는 단일 객체를 여러 부분으로 분할하여 업로드할 수 있게 한다.
- 각 부분은 객체 데이터의 연속적인 구간이다.
- 이러한 객체의 부분들은 독립적으로, 그리고 순서에 상관없이 업로드할 수 있다.
- 어떤 부분의 전송에 실패하더라도 다른 부분에 영향을 주지 않고 해당 부분을 다시 전송할 수 있다.
- 객체의 모든 부분이 업로드되면, Amazon S3는 이러한 부분들을 조립하여 객체를 생성한다.
- 객체 크기가 100 MB에 도달하면, 객체를 한 번에 업로드하는 대신 multipart 업로드를 사용하는 것이 권장된다.

<br>

**장점**

- 처리량 향상
	- 객체를 여러 부분들로 나누고 동시에 업로드하여 처리량을 향상시킬 수 있다.
- 네트워크 문제에대해 빠른 복구
	- 네트워크 오류로 인해 실패한 부분만 다시 시작하면 되기 때문에 네트워크 오류로 인한 영향을 최소화한다.
- 최종 객체 크기를 알기 전에 업로드 시작
	- 객체를 생성하는 동안 객체를 업로드할 수 있다.

<br>

## 2.2 S3 Transfer Acceleration
![[Pasted image 20231017201346.png]]

- Amazon S3 Transfer Acceleration은 Amazon S3 서비스의 한 기능으로, 전 세계 어디서나 빠르게 대용량 데이터를 Amazon S3로 업로드할 수 있게 해줍니다.
- 이 기능은 Amazon CloudFront의 글로벌 엣지 위치 네트워크를 활용하여 사용자와 Amazon S3 버킷 간의 데이터 전송 속도를 향상시킵니다.
- 상대적으로 느린 public 네트워크 구간을 줄이고 상대적으로 빠른 private AWS 네트워크 구간을 늘려 전체적인 전송속도를 높입니다.

<br>

**작동 원리**

1. **활성화**: 사용자는 Amazon S3 버킷에 대해 Transfer Acceleration을 활성화해야 합니다. 활성화되면, Amazon S3는 전 세계의 엣지 로케이션으로 데이터를 전송하는 데 사용할 수 있는 특별한 도메인 이름을 제공합니다.
    
2. **데이터 전송**: 사용자가 대용량 파일이나 데이터 세트를 S3 버킷으로 업로드할 때, 이 특별한 도메인을 통해 데이터를 전송합니다. 사용자의 데이터는 가장 가까운 엣지 로케이션으로 먼저 전송되고, 그 후 Amazon의 백본 네트워크를 통해 해당 S3 버킷으로 전송됩니다.
    
3. **속도 향상**: 이 과정을 통해, 데이터는 인터넷상에서 발생할 수 있는 다양한 지연 시간과 병목 현상을 피해 더 빠르게 전송됩니다. 특히 지리적으로 S3 버킷과 멀리 떨어져 있는 사용자는 전송 속도의 상당한 향상을 경험할 수 있습니다.
    
4. **비용과 호환성**: Transfer Acceleration 사용에는 추가 비용이 발생하며, 이는 전송된 데이터의 양과 사용된 엣지 로케이션에 따라 달라집니다. 대부분의 S3 기능과 호환되지만, 사용하기 전에 비용과 호환성을 고려해야 합니다.
    
5. **측정 및 분석**: Amazon S3 Transfer Acceleration 상태 확인 도구를 사용하여, Transfer Acceleration이 활성화된 후 데이터 전송 속도가 얼마나 향상되었는지 측정할 수 있습니다.

<br>

# 3 Transitioning objects

- [레퍼런스](https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-transition-general-considerations.html)
- Amazon S3에서 파일 라이프사이클 관리를 사용하면, 데이터 스토리지 비용을 절감하고, 데이터 액세스 패턴에 따라 데이터를 최적화하며, 데이터 보관 요구 사항을 충족시킬 수 있습니다. 
- 이는 특정 기간이 지난 후에 데이터를 더 비용 효율적인 스토리지 클래스로 자동 전환함으로써 이루어집니다.
- 예를 들어, 자주 액세스되는 데이터는 S3 Standard에 저장할 수 있으며, 접근 빈도가 줄어들면 자동으로 S3 Standard-IA(Infrequent Access) 또는 S3 Intelligent-Tiering으로 이동될 수 있습니다.
- S3 Intelligent-Tiering은 접근 빈도에 기반하여 데이터를 자동으로 다른 계층으로 이동시켜, 비용을 절감해주는 기능을 제공합니다.
- 더 나아가, 더 이상 자주 액세스되지 않는 데이터는 S3 Glacier 또는 S3 Glacier Deep Archive와 같은 장기 보관 솔루션으로 전환될 수 있습니다.
- 이러한 전환은 Amazon S3의 라이프사이클 정책을 통해 설정되며, 데이터의 보관 기간, 액세스 빈도 및 비용 요구 사항에 따라 사용자 지정할 수 있습니다.

<br>

## 3.1 Supported lifecycle transitions

![[Pasted image 20231022200857.png]]

**S3 Standard**

- 기본 저장 클래스로, 자주 액세스되는 데이터에 대한 일반적인 사용 사례에 적합하다.
- 이 클래스에서는 다른 모든 저장 클래스로 데이터를 전환할 수 있다.

<br>

**S3 Standard-IA (Infrequent Access)**

- 자주 액세스되지 않는 데이터를 대상으로 한다.
- 이 클래스에서는 S3 Intelligent-Tiering, S3 One Zone-IA, 그리고 S3 Glacier의 여러 버전으로 데이터를 전환할 수 있다.
- 옵션은 드물게 접근되지만 빠른 액세스가 필요한 데이터에 적합하다.
- 비용은 S3 Standard보다 낮지만, 데이터 검색에 대한 비용이 발생한다.

<br>

**S3 Intelligent-Tiering**

- 클래스는 자주 액세스되는 데이터와 자주 액세스되지 않는 데이터 모두를 대상으로 한다.
- 액세스 패턴에 따라 자동으로 비용을 최적화한다.
	- 접근 빈도에 기반하여 데이터를 자동으로 여러 계층(Tiers)으로 이동시켜 스토리지 비용을 절감해줍니다. 
	- 자주 접근되는 데이터는 더 높은 비용을 부담하는 계층에, 드물게 접근되는 데이터는 비용이 적게 드는 계층에 저장한다.
- 이 클래스에서는 S3 One Zone-IA, 그리고 S3 Glacier의 여러 버전으로 데이터를 전환할 수 있다.

<br>

**S3 One Zone-IA**

- 이 클래스는 단일 가용 영역에 저장되는 자주 액세스되지 않는 데이터를 대상으로 한다.
- 이 클래스에서는 S3 Glacier의 Flexible Retrieval 또는 Deep Archive로 데이터를 전환할 수 있다.
- 데이터를 단일 가용 영역에만 저장하므로 가용 영역 손실에 대한 내구성을 요구하는 이 시나리오에 적합하지 않다.

<br>

**S3 Glacier Instant Retrieval**

- 이 저장 클래스는 보관 데이터에 사용되며, S3 Glacier Flexible Retrieval 또는 Deep Archive로 전환할 수 있다.

<br>

**S3 Glacier Flexible Retrieval**

- 아카이브 데이터를 위한 클래스로, Deep Archive로 전환할 수 있습니다.

<br>

**S3 Glacier Deep Archive**

- 가장 오래 보관되는 데이터를 위한 최저 비용의 저장 클래스다.
	- 데이터 복구 시간이 긴 대신, 장기 보관을 위한 비용이 매우 저렴하다.
- 다른 모든 저장 클래스에서 이 클래스로 전환할 수 있다.

<br>

# 4 S3 File Gateway

- Amazon S3 File Gateway는 온프레미스 환경과 AWS 클라우드 간의 데이터 이동을 간소화하는 서비스입니다.
- 이 서비스는 기업이 기존의 파일 기반 애플리케이션과 작업 흐름을 AWS로 확장할 수 있도록 지원합니다.

<br>

## 4.1 주요 기능 및 이점

- 온프레미스 파일 서버와의 원활한 통합
	- S3 File Gateway는 온프레미스 파일 서버의 기능을 클라우드로 확장합니다. 
	- 온프레미스 사용자가 네트워크 파일 시스템(NFS) 및 서버 메시지 블록(SMB) 프로토콜을 통해 클라우드 스토리지에 접근할 수 있게 하여, 사용자는 마치 로컬 파일 서버에 있는 파일을 다루는 것처럼 클라우드에 저장된 파일을 다룰 수 있습니다.
- 안전하고 신뢰할 수 있는 스토리지
	- S3 File Gateway를 통해 저장된 파일은 Amazon S3 버킷에 안전하게 저장됩니다. 
	- Amazon S3는 높은 내구성과 가용성을 제공하여 데이터가 필요할 때 보호되고 접근 가능하도록 보장합니다.
- 비용 효율적인 스토리지 관리
	- s3 File Gateway를 사용하면 데이터는 S3 버킷에 저장되고 사용 패턴에 따라 다양한 S3 스토리지 클래스로 자동 전환될 수 있습니다. 
	- 이를 통해 기업은 S3 Standard, S3 Standard-IA(비정기 접근), S3 Glacier 등 다양한 스토리지 클래스를 활용하여 스토리지 비용을 최적화할 수 있습니다.
- 자동화된 수명 주기 관리
	- S3 File Gateway와 S3 라이프사이클 정책을 결합하면, 오래된 파일을 더 비용 효율적인 스토리지 솔루션으로 자동 이동시킬 수 있습니다. 
	- 예를 들어, 자주 접근하지 않는 파일은 S3 Glacier 또는 S3 Glacier Deep Archive로 이동시켜 스토리지 비용을 크게 절감하면서도 데이터가 컴플라이언스 및 아카이브 목적을 위해 필요할 때 사용할 수 있습니다.
- 간소화된 데이터 백업 및 복구
	- S3 File Gateway는 데이터 백업 및 복구 과정을 간소화합니다.
	- Amazon S3에 백업 데이터를 저장하여 온프레미스 장애로부터 데이터를 보호하고 필요 시 쉽게 복구할 수 있습니다.
- 확장성 및 유연성
	- Amazon S3는 사실상 무한한 저장 용량을 제공하여 온프레미스 인프라의 제한 없이 스토리지 요구 사항을 확장할 수 있습니다. 
	- 이를 통해 기업은 증가하는 데이터 볼륨을 효율적으로 처리할 수 있습니다.

<br>

# 5 S3 데이터 보호 및 관리

## 5.1 버전 관리(Versioning)

- Amazon S3의 버전 관리를 활성화하면, 객체의 여러 버전을 저장하여 실수로 삭제되거나 덮어쓴 데이터를 복구할 수 있습니다. 
- 이는 중요한 데이터를 보호하는 데 매우 유용하며, 이전 버전으로 쉽게 복원할 수 있습니다.

<br>

## 5.2 MFA Delete

- 다단계 인증(Multi-Factor Authentication)을 사용하여 삭제 작업을 보호합니다. 
- MFA Delete를 활성화하면, 추가적인 인증 과정을 거쳐야만 객체를 삭제할 수 있어, 실수나 악의적인 삭제를 방지할 수 있습니다.