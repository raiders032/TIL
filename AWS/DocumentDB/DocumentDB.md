# 1 DocumentDB

- Amazon DocumentDB는 완전관리형, 스케일러블한 NoSQL 데이터베이스 서비스로, MongoDB와 호환되는 문서 지향 데이터베이스를 제공합니다.
- 이 서비스는 대규모 데이터베이스를 쉽고 안전하게 구축, 운영 및 확장할 수 있도록 설계되었습니다.
- AWS가 관리하는 인프라에서 실행되기 때문에 사용자는 데이터베이스 설정, 패치 적용 및 백업과 같은 운영 작업에 신경 쓸 필요가 없습니다.

<br>

## 1.1 주요 기능

### 호환성

- Amazon DocumentDB는 MongoDB의 API와 호환되므로, 기존의 MongoDB 애플리케이션과 쉽게 통합할 수 있습니다. 
- 이는 MongoDB 사용자가 기존 코드 변경 없이 DocumentDB로 원활하게 이전할 수 있음을 의미합니다.
- Amazon DocumentDB는 Apache 2.0 오픈 소스 MongoDB 3.6, 4.0 및 5.0 API를 구현하여 MongoDB 클라이언트가 MongoDB 서버로부터 기대하는 응답을 모방하여 기존의 MongoDB 드라이버와 도구들을 Amazon DocumentDB와 함께 사용할 수 있게 합니다.
	- 따라서 애플리케이션의 데이터베이스 엔드포인트를 새로운 Amazon DocumentDB 클러스터로 변경하면 됩니다.

### 성능

- DocumentDB는 고성능 SSD 스토리지와 함께 최적화된 네트워크 인프라를 사용하여 빠른 읽기 및 쓰기 성능을 제공합니다. 
- 또한, 리소스를 동적으로 조정하여 변화하는 트래픽에 대응할 수 있습니다.

### 확장성

- DocumentDB는 수직 및 수평 확장을 지원합니다. 
- 데이터베이스 클러스터를 쉽게 확장하여 처리량과 스토리지 용량을 늘릴 수 있으며, 자동 복제 기능을 통해 데이터 안정성과 가용성을 보장합니다.

### 보안

- AWS의 강력한 보안 기능을 통해 DocumentDB는 데이터 암호화, 네트워크 격리, 접근 제어 및 감사 로그를 지원합니다. 
- 이를 통해 사용자는 데이터를 안전하게 보호할 수 있습니다.

### 백업 및 복구

- DocumentDB는 자동 백업을 지원하며, 사용자가 지정한 시점으로 데이터를 복구할 수 있는 기능을 제공합니다. 
- 이는 데이터 손실에 대비한 중요한 안전망을 제공합니다.

<br>

# 2 요금

- DocumentDB를 사용할 때는 사용한 만큼만 비용을 지불하면 되고, 선불 비용은 없습니다. Amazon DocumentDB 요금에는 4가지 차원이 있습니다.
	- **온디맨드 인스턴스**: 클러스터 하나에 대한 컴퓨팅 인스턴스 사용량입니다(초당 요금, 최소 10분).
	- **데이터베이스 I/O**: 클러스터 스토리지 볼륨에서 데이터를 읽고 쓸 때의 I/O 횟수입니다(I/O 100만 회당 요금).
	- **데이터베이스 스토리지**: 클러스터 스토리지 볼륨에 저장된 데이터 용량입니다(월 GB당 요금).
	- **백업 스토리지**: 클러스터의 데이터베이스 스토리지 사용량을 초과하여 사용한 백업 스토리지 용량입니다(월 GB당 요금).

<br>

## 2.1 온디맨드 인스턴스

- 온디맨드 인스턴스의 경우, 장기 약정이나 선결제 금액 없이 초당 요금을 지불하면 됩니다.
- 인스턴스 요금은 클러스터의 기본 및 복제본 인스턴스에 모두 적용됩니다.
- 인스턴스가 시작된 시간부터 중지 또는 삭제될 때까지 사용된 인스턴스 시간당 요금이 지불됩니다.

<br>

## 2.2 데이터베이스 스토리지

- Amazon DocumentDB 클러스터에서 사용되는 스토리지는 월별 GB 단위로 요금이 청구됩니다.
- 청구된 스토리지 요금에는 데이터, 인덱스, 스트림 변경 데이터가 포함됩니다.

<br>

## 2.3 데이터베이스  I/O

- I/O는 Amazon DocumentDB 엔진이 클러스터 스토리지 볼륨을 읽고 쓸 때 수행하는 입/출력 작업입니다. I/O는 I/O 요청 100만 건을 기준으로 청구됩니다.
- 검색, 삽입, 업데이트, 삭제와 같은 API 호출과 스트림 변경, TTL 색인과 같은 기능, mongodump나 mongorestore와 같은 도구는 모두 스토리지 볼륨에서 읽고 쓰는 것으로 I/O를 사용합니다.

