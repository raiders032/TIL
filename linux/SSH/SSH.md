# 1 SSH란?

- SSH는 Secure Shell의 줄임말로, 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜입니다.
- 기존 원격 접속은 ‘텔넷(Telnet)’이라는 방식을 사용했는데, 암호화를 제공하지 않기 때문에 보안상 취약하다는 단점이 있었습니다. 
- 때문에 이를 암호화하는 SSH 기술이 등장했고, 현재 원격 접속 보안을 위한 필수적인 요소로 자리잡고 있습니다.



# 2 SSH 동작원리

- SSH는 연결 상대를 인증하고 안전한 정보 전달을 위해서 여러가지 암호화 기술을 사용한다.
- SSH는 비대칭키, 대칭키, 해싱 암호화 기술을 사용한다.



## 2.1 비대칭키 방식

- 가장 먼저 사용자와 서버가 서로의 정체를 증명해야 합니다. 이 시점에서 사용되는 것이 비대칭키 방식이다.
- 비대칭키 방식에서는 서버 또는 사용자가 Key Pair(키 페어, 키 쌍)를 생성한다. 
- 키 페어는 공개 키와 개인 키의 두 가지로 이루어진 한 쌍을 뜻하며, 보통 공개 키의 경우 .pub, 개인 키의 경우 .pem의 파일 형식을 띄고 있다
- 클라이언트가 키 페어를 생성할 경우 공개 키를 서버에 전송한다
- 서버는 공개키를 받아서, 이 공개 키로 랜덤한 값을 생성해 클라이언트의 전송한다.
- 이 값은 클라이언트가 올바른 키 페어를 가지고 있는지 확인하는 일종의 시험지다
- 클라이언트는 이 시험지를 개인키로 풀어서 서벗에 전송한다
- 서버는 전송받은 값과 자신이 처음 보낸 값과 비교하며 값이 같으면 내가 아는 사용자가 맞다라고 판단하고 접속을 허용해 준다.
-  이렇게 최초 접속 시 클라이언트와 서버 간의 인증 절차가 비대칭키 방식을 통해 완료된다.



## 2.2 대칭키 방식

- 서로가 누군지를 알았으니 이제 정보를 주고받을 차례입니다. 
- 주고받는 과정에서 정보가 새어나가지 않기 위해 정보를 암호화해서 주고받는데, 여기서 사용되는 과정이 대칭키 방식입니다. 
- 대칭키 방식에서는 비대칭키 방식과 달리 한 개의 키만을 사용하는데, 우리는 이것을 대칭 키라고 합니다.



# 3 설정

* `~/.ssh/config` 파일 작성해서 간편하게 SSH 접속을 할 수 있다
* 아래와 같이 config 파일을 작성하면
* `ssh ubuntu` 명령어를 통해 `192.168.155.68` 로 접속할 수 있다

```
Host ubuntu
  Hostname 192.168.155.68
  Port 22
  User youngsam
Host github.com
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_ed25519
```



참고

- https://library.gabia.com/contents/infrahosting/9002/
- https://library.gabia.com/contents/9008/
- https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process
