# 1 Encryption

- 메시지 전달 과정에서 제 3자가 보더라도 이해하지 못하게 암호화할 수 있다.
- 발신자는 평문을 암호화한 암호문 전달하고 수신자는 암호문을 복호화해 평문을 얻을 수 있다.
- 암호화는 참견쟁이들이 볼 수 없도록 메시지를 암호화하는 것뿐 아니라 저자를 증명하는데도 사용될 수 있다.



## 1.1 용어

**암호**

- 메시지를 아무나 읽지 못하도록 인코딩 하는 알고리즘

**키**

- `암호`의 동작을 변경하는 숫자로 된 매개변수

**평문**

- 암호화 되기 전의 원본 메시지

**암호문**

- 암호화가 적용된 메시지

**디지털 서명**

- 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬

**디지털 인증서**

- 신뢰할 만한 조직에 의해서 서명되거 검증된 신원 확인 정보



`C = E(P, e)`

- 평문 메시지 `P`, 인코딩 함수 `E`, 디지털 인코딩 키 `e`가 주어지면 부호화된 암호문 `C` 를 생성할 수 있다.

`P =. D(C, d)`

- 암호문 `C`, 디코딩 키`d`, 디코딩 함수 `D`를 사용해서 원래의 평문 `P`로 디코딩할 수 있다. 



# 2 대칭키 암호 알고리즘

- symmetric-key algorithm
- 대칭키란 암호문을 생성할 때 사용하는 키와 암호문으로부터 평문을 복원할 때 사용하는 키가 동일한 암호 시스템이다.
  - 즉 인코딩 키 e와 디코딩 키 d가 같음

- 대칭키는 송신자와 수신자가 같은 키를 보유하고 그 키를 통해 송신자가 평문을 암호화해서 전송하면 수신자가 같은 키로 복호화한다.



## 2.1 키 길이와 열거 공격

- 키가 누설되면 안 된다는 것이 매우 중요하다
- 대부분의 경우 인코딩 및 디코딩 알고리즘은 공개적으로 알려져있다.
- 좋은 암호 알고리즘은 우주에 존재하는 모든 가능한 키 값을 시도해보는 것 외에 다른 방법이 없게 만든다.
- 무차별로 모든 키 값을 대입해보는 공격을 `열거 공격`이라고 한다.
  - 가능한 키 값이 몇 가지 밖에 없다면 무차별 대입으로 암호를 깨드릴 수 있다.



**가능한 키 값의 개수**

- 키 값의 개수는 몇 비트이며 얼마나 많은 키가 유효한지 달려있다.
- 대칭키 암호에서 보통 모든 키 값이 유효하다
- 8비트라면 256가지 값이 가능하며
- 40비트라면 2^40(약 1조)의 값이 가능하다.



## 2.2 장점

- 키 크기가 상대적으로 작고 암호 알고리즘 내부 구조가 단순하여, 시스템 개발 환경에 용이하다
- 비대칭키에 비해 암호화와 복호화 속도가 빠르다.



## 2.3 단점

- 교환 당사자간에 동일한 키를 공유해야 하기 때문에 키관리의 어려움이 있다.
  - 한 사람이 여러 사람과 대칭키 암호 알고리즘을 사용하면 여러 사람마다 각각 다른 비밀 키를 생성하고 기억해야 한다.

- 잦은 키 변경이 있는 경우에 불편함을 초래한다.
- 교환 당사자간에 동일한 키를 공유하는 과정에서 탈취될 수 있다.



# 3 비대칭키 암호 알고리즘

- 공개키 암호 알고리즘(public key cryptosystem)라고도 불린다.
- 암호화 알고리즘의 한 종류로, 암호화할 때 사용하는 암호키와 복호화할 때 사용하는 암호키가 서로 다르다.
- 공개키 암호는 대칭키 암호의 키 전달에 있어서 취약점을 해결하고자 탄생했다.
- 한 쌍의 키가 존재하며, 하나는 특정 사람만이 가지는 `개인키(또는 비밀키)`이고 다른 하나는 누구나 가질 수 있는 `공개키이다`
- 공개키 암호화 방식은 암호학적으로 연관된 두 개의 키를 만들어서 하나는 자기가 안전하게 보관하고 다른 하나는 상대방에게 공개한다.
- 개인키로 암호화 한 정보는 그 쌍이 되는 공개키로만 복호화가 가능하고, 공개키로 암호화한 정보는 그 쌍이 되는 개인키로만 복호화가 가능하다. 
- 개인이 비밀통신을 할 경우엔 대칭키 암호를 사용할 수 있지만, 다수가 통신을 할 때에는 키의 개수가 급증하게 되어 큰 어려움이 따른다. 



## 3.1 통신 절차

1. 송신자는 수신자의 공개키를 구한다.
2. 송신자는 수신자의 공개키로 평문을 암호화한다.
3. 송신자는 암호화된 메시지를 상대방에게 전달한다. 
   * 메시지는 암호화되어 있기 때문에 전달 도중에 유출되거나 도청이 되더라도 암호문으로부터 원문을 알아내기 어렵다.
4. 수신자는 자신의 비밀키로 암호화된 메시지를 해독해서 평문을 얻는다.



## 3.2 장점

- 공개키 암호는 다른 유저와 키를 공유하지 않더라도 암호를 통한 안전한 통신을 할 수 있다
  - 각 사용자가 개인키와 공개키 2개만 보유하면 된다.
  - 암호화 통신을 할 경우에는 각자의 공개키를 공개하여 필요할 때 상대방이 이용할 수 있도록 한다

- 각 사용자는 자신에게 전송하기 위해 사용될 키를 공개하고, 공개된 키의 정보로 암호화된 정보를 복호화할 수 있는 키를 비밀로 보유하고 있음으로써 누구나 암호화할 수 있지만 공개키에 대응되는 비밀키를 가진 사람만이 복호화할 수 있는 특징을 가진다.



## 3.3 단점

- 공개키 암호는 수학적인 난제를 기반으로 설계되었기 때문에, 암호화나 복호화를 수행하기 위한 연산이 복잡한 수학 연산을 기반으로 구성되기 때문에 효율성은 대칭키 암호에 비해 높지 않고, 대칭키 알고리즘보다 속도가 대략 1000배 느리다



**혼성 암호 체계**

- 비대칭키 암호 방식의 알고리즘은 계산이 느린 결과가 있어 실제로는 대칭과 비대칭 방식을 섞어서 사용한다.
- 노드들 사이의 안전한 의사소통 채널을 수립할 때는 비대칭키 암호화 방식을 사용하고 이렇게 만들어진 채널을 통해 임시의 무작위 대칭 키를 생성하고 교환하여 나머지 데이터를 암호화 할때는 빠른 대칭키 방식을 사용한다.



참고

- http://wiki.hash.kr/index.php/%EB%8C%80%EC%B9%AD%ED%82%A4_%EC%95%94%ED%98%B8_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98
- http://wiki.hash.kr/index.php/%EA%B3%B5%EA%B0%9C%ED%82%A4_%EC%95%94%ED%98%B8_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98